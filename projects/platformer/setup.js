// setup variables
const walkAcceleration = 2; // how much is added to the speed each frame
const gravity = 0.5; // how much is subtracted from speedY each frame
const friction = 1.5; // how much the player is slowed each frame
const maxSpeed = 7; // maximum horizontal speed, not vertical
const playerJumpStrength = 12; // this is subtracted from the speedY each jump
const projectileSpeed = 8; // the speed of projectiles

/////////////////////////////////////////////////
//////////ONLY CHANGE ABOVE THIS POINT///////////
/////////////////////////////////////////////////

// Base game variables
const frameRate = 60;
const playerScale = 0.8; //makes the player just a bit smaller. Doesn't affect the hitbox, just the image

// Player variables
const player = {
  x: 50,
  y: 100,
  speedX: 0,
  speedY: 0,
  width: undefined,
  height: undefined,
  onGround: false,
  facingRight: true,
  deadAndDeathAnimationDone: false,
};

let hitDx;
let hitDy;
let hitBoxWidth = 50 * playerScale;
let hitBoxHeight = 105 * playerScale;
let firstTimeSetup = true;

const keyPress = {
  any: false,
  up: false,
  left: false,
  down: false,
  right: false,
  space: false,
};

// Player animation variables
const animationTypes = {
  duck: "duck",
  flyingJump: "flying-jump",
  frontDeath: "front-death",
  frontIdle: "front-idle",
  jump: "jump",
  lazer: "lazer",
  run: "run",
  stop: "stop",
  walk: "walk",
};
let currentAnimationType = animationTypes.run;
let frameIndex = 0;
let jumpTimer = 0;
let duckTimer = 0;
let DUCK_COUNTER_IDLE_VALUE = 14;
let debugVar = false;

let spriteHeight = 0;
let spriteWidth = 0;
let spriteX = 0;
let spriteY = 0;
let offsetX = 0;
let offsetY = 0;

// Platform, cannon, projectile, and collectable variables
let platforms = [];
let cannons = [];
const cannonWidth = 118;
const cannonHeight = 80;
let projectiles = [];
const defaultProjectileWidth = 24;
const defaultProjectileHeight = defaultProjectileWidth;
const collectableWidth = 40;
const collectableHeight = 40;
let collectables = [];

// canvas and context variables; must be initialized later
let canvas;
let ctx;

// setup function variable
let setup;

let halleImage;
let animationDetails = {};

var collectableList = {
  BabyOil: { image: "https://w7.pngwing.com/pngs/102/796/png-transparent-lotion-johnson-johnson-johnson-s-baby-oil-baby-shampoo-oil.png" },
  JustinBeiver: { image: "data:image/jpeg;base64,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" },
  Freaky: { image: "https://pics.craiyon.com/2023-09-24/65abf62e0dcd4424992a0d5a92d4615a.webp" },
  kennedi: { image: "images/collectables/kennedi-head.png" },
  max: { image: "images/collectables/max-head.png" },
  steve: { image: "images/collectables/steve-head.png" },
};
